{% extends "base_template.html" %}

{% block head_content %}

{% endblock %}

{% block scripts %}
<link href="/stylesheets/default.css" rel="stylesheet">
<link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css" />
<script src="http://code.jquery.com/ui/1.10.1/jquery-ui.js"></script>
<script>
  $(function() {
    $( "#tabs" ).tabs();
  });
  </script>
  
  <script>
  $(function() {
    hide_divs();
    
    var select_options_array = [];
    var radio_options_array = [];
    var form_json_array = []
    
    var option_html = 'Option:  <input type="text" name="firstname"><br>';

    $( "#add_select_option" ).click(function() {
    
     add_select_option(select_options_array);
     var i = select_options_array.length - 1;
     var option_number = i + 2;
      var new_line = 'Option ' + option_number + ':  <input type="text" id="'+ select_options_array[i] + '" name="'+ select_options_array[i] + '"><br>';
      var new_option = '<option value=' + select_options_array[i] + '">Option '+ option_number + '</option>';
      $("#add_options_to_select").append(new_line);
      $("#select_default").append(new_option);
     // add to select options select default div
     // make a remove option(remove only removes last)
    });
    
    $("#clear_radio_options").click(function() {
      radio_options_array = [];
      var new_option = 'Option 1:  <input type="text" id="radio_option_1" name="radio_option_1"><br>';
      var new_select = '<option value="radio_option_1">Option 1</option>';
      $("#add_options_to_radio").empty();
      $("#radio_default").empty();
      $("#add_options_to_radio").append(new_option);
      $("#radio_default").append(new_select);
    // clear and reset text input
    // clear and reset default select
    
    });

    $("#clear_select_options").click(function() {
      select_options_array = [];
      var new_option = 'Option 1:  <input type="text" id="select_option_1" name="select_option_1"><br>';
      var new_select = '<option value="select_option_1">Option 1</option>';
      $("#add_options_to_select").empty();
      $("#select_default").empty();
      $("#add_options_to_select").append(new_option);
      $("#select_default").append(new_select);
    // clear and reset text input
    // clear and reset default select
    
    });
    
    
    $( "#add_radio_option" ).click(function() {
    
     add_radio_option(radio_options_array);
     var i = radio_options_array.length - 1;
     var option_number = i + 2;
      var new_line = 'Option ' + option_number + ':  <input type="text" id="'+ radio_options_array[i] + '" name="'+ radio_options_array[i] + '"><br>';
      var new_option = '<option value=' + radio_options_array[i] + '">Option '+ option_number + '</option>';
      $("#add_options_to_radio").append(new_line);
      $("#radio_default").append(new_option);
     // add to select options select default div
     // make a remove option(remove only removes last)
    });

    
    $( "#add_checkbox" ).click(function() {
	 hide_divs();
	 $("#checkbox_div").show();
    });
    
    $( "#add_select" ).click(function() {
	 hide_divs();
         $("#select_div").show();
    });
    $( "#add_radio" ).click(function() {
	 hide_divs();
         $("#radio_div").show();
    });
    $( "#add_text" ).click(function() {
	 hide_divs();
	 $("#text_div").show();
    });
    $( "#add_header" ).click(function() {
	 hide_divs();
	 $("#header_div").show();
    });
    
    $( "#add_header_to_form" ).click(function() {
	 hide_divs();
	 add_header_input(form_json_array);
	 $("#header_form").trigger('reset');
	 var jString = JSON.stringify(form_json_array);
	 $("#tabs-2").append(jString);
    });
      $( "#add_text_to_form" ).click(function() {
	 hide_divs();
	 add_text_input(form_json_array);
	 $("#tabs-2").empty();
	 $("#text_form").trigger('reset');

	 var jString = JSON.stringify(form_json_array);
	 $("#tabs-2").empty();
	 $("#tabs-2").append(jString);
    });
    
    

  });
  function hide_divs() {
    $("#select_div").hide();
    $("#radio_div").hide();
    $("#text_div").hide();
    $("#checkbox_div").hide();
    $("#header_div").hide();
}

function clear_options_array(options_array) {
   return ["options_1"]
}

function add_select_option(select_options_array) {
   var array_length = select_options_array.length;
   var new_length = array_length + 2;
   var new_options_string = "select_option_" + new_length;
   select_options_array.push(new_options_string);
   return select_options_array;
}

function add_radio_option(select_options_array) {
   var array_length = select_options_array.length;
   var new_length = array_length + 2;
   var new_options_string = "select_option_" + new_length;
   select_options_array.push(new_options_string);
   return select_options_array;
}

function remove_option(options_array) {
   options_array.pop();
   return options_array;
}


function add_header_input(form_json_array){
  var header_value = $("#header_label").val();
  var header_json = {
    "header": header_value,
  }
  form_json_array.push(header_json);
}
function add_text_input(form_json_array) {
  var text_label = $("#text_label").val();
  var text_default = $("#text_default").val();
  var text_placeholder = $("#text_placeholder").val();
  var text_required = $('#text_required').prop('checked')
  var text_sensitive = $('#text_sensitive').prop('checked')
  
  var text_infobox = $("#text_infobox").val();
  var text_printer = $("#text_printer").val();
  var text_mobile = $("#text_mobile").val();
  var text_sms = $("#text_sms").val();
    
  var text_json = {
    text_label: text_label,
    text_default: text_default,
    text_placeholder: text_placeholder,
    text_required: text_required,
    text_sensitive: text_sensitive,
    text_infobox: text_infobox,
    text_printer: text_printer,
    text_mobile: text_mobile,
    text_sms: text_sms,
  }
  
  form_json_array.push(text_json);
}

function add_checkbox_input(main_json_array) {

}

function add_select_input(main_json_array) {

}

function add_radio_input(main_json_array) {

}

</script>
{% endblock %}

{% block login %}
{% endblock %}


{% block description_title %}
{% endblock %}

{% block description_subtitle %}
{% endblock %}

{% block sidebar_title %}
{% endblock %}

{% block sidebar_content %}
<div id="form_editor">
<a href="#" onclick="checkEach()">Save All Changes</a></form>

</div>
<h2>Add Inputs to form</h2>
<a id="add_header" href="#form_editor"">header +</a><br>
<a id="add_text" href="#form_editor">text input +</a><br>
<a id="add_checkbox" href="#form_editor"">checkbox input +</a><br>
<a id="add_select" href="#form_editor"">select input +</a><br>
<a id="add_radio" href="#form_editor"">radio input +</a><br>


<div id="text_div">

<h3>Add Text Input</h3>
<form id="text_form">
Label: <input type="text" id="text_label" name="text_label"><br>
Default Value: <input type="text" id="text_default" name="text_default"><br> 
Placeholder: <input type="text" id="text_placeholder" name="text_placeholder"><br> 
Required: <input type="checkbox" id="text_required" name="text_required" value="y">
Sensitive: <input type="checkbox" id="text_sensitive" name="text_sensitive" value="y"><br>
<h3>Add Display Info</h3>
*For advanced users<br>
InfoBox: <textarea id="text_infobox" name="text_infobox" rows="2" cols="20">Write something here</textarea><br>
Printer: <input type="text" id="text_printer" name="text_printer"><br>
Mobile: <input type="text" id="text_mobile" name="text_mobile"><br>
Sms: <input type="text" id="text_sms" name="text_sms"><br>
<a href="#form_editor" id="add_text_to_form">Add to form</a></form>
</div>

<div id="checkbox_div">
<h3>Add Checkbox</h3>
<form id="checkbox_form">
Label: <input type="text" id="checkbox_label" name="checkbox_label"><br>
Default Value:<select id="checkbox_default" name="checkbox_default">
<option value="n" >Unchecked</option>
<option value="y" >Checked</option>
</select><br><br>
Required: <input type="checkbox" id="checkbox_required" name="checkbox_required" value="y">
Sensitive: <input type="checkbox" id="checkbox_sensitive" name="checkbox_sensitive" value="y"><br>
<h3>Add Display Info</h3>
*For advanced users<br>
InfoBox: <textarea id="checkbox_infobox" name="checkbox_infobox" rows="2" cols="20">Write something here</textarea><br>
Printer: <input type="text" id="checkbox_printer" name="checkbox_printer"><br>
Mobile: <input type="text" id="checkbox_mobile" name="checkbox_mobile"><br>
Sms: <input type="text" id="checkbox_sms" name="checkbox_sms"><br>
<a href="#form_editor" id="add_checkbox_to_form">Add to form</a></form>
</div>
<div id="select_div">

<h3>Add Select</h3> 
<form id="select_form">
Label: <input type="text" id="select_label" name="select_label"><br>
<div id="add_options_to_select">
Option 1:  <input type="text" id="select_option_1" name="select_option_1"><br>
</div>
<a id="add_select_option" href="#form_editor">Add another option</a><br>
<a id="clear_select_options">Clear options</a>
<br>
Default: <select id="select_default" name="select_default">
<option value="select_option_1">Option 1</option>
</select>
<br>
<br>
Required: <input type="checkbox" id="select_required" name="select_required" value="y">
Sensitive: <input type="checkbox" id="select_sensitive" name="select_sensitive" value="y"><br>
<h3>Add Display Info</h3>
*For advanced users<br>
InfoBox: <textarea id="select_textarea" name="select_textarea" rows="2" cols="20">Write something here</textarea><br>
Printer: <input type="text" id="select_printer" name="select_printer"><br>
Mobile: <input type="text" id="select_mobile" name="select_mobile"><br>
Sms: <input type="text" id="select_sms" name="select_sms"><br>
<a href="#form_editor" id="add_select_to_form">Add to form</a></form>
</div>

<div id="radio_div">
<h3>Add Radio</h3> 
<form id="radio_form">
Label: <input type="text" id="radio_label" name="radio_label"><br>
<div id="add_options_to_radio">
Option 1:  <input type="text" id="radio_option_1" name="radio_option_1"><br>
</div>
<a id="add_radio_option" href="#form_editor">Add another option</a><br>
<a id="clear_radio_options">Clear options</a>
<br>
Default: <select id="radio_default" name="radio_default">
<option value="radio_option_1">Option 1</option>
</select>
<br>
<br>Required: <input type="checkbox" id="radio_required" name="radio_required" value="y">
Sensitive: <input type="checkbox" id="radio_sensitive" name="radio_sensitive" value="y"><br>
<h3>Add Display Info</h3>
*For advanced users<br>
InfoBox: <textarea id="radio_infobox" name="radio_infobox" rows="2" cols="20">Write something here</textarea><br>
Printer: <input type="text" id="radio_printer" name="radio_printer"><br>
Mobile: <input type="text" id="radio_mobile" name="radio_mobile"><br>
Sms: <input type="text" id="radio_sms" name="radio_sms"><br>
<a href="#form_editor" id="add_radio_to_form">Add to form</a></form>
</div>

<div id="header_div">
<h2>Add Header to form</h2>

<form id="header_form">
Label: <input type="text" id="header_label" name="header_label"><br>
<a href="#form_editor" id="add_header_to_form">Add to form</a></form>
</div>
{% endblock %}

{% block main_title %}
{% endblock %}

{% block main_content %}
<h2>Incident Form Creator</h2>
<select id="incident" name="incident">
    <option value="None">Choose an Incident</option>
    {% for incident in incidents %}
    <option value="{{ incident.short_name }}">{{ incident.name }}</option>
    {% endfor %}
</select>
<br>
<br>
<div id="tabs">
  <ul>
    <li><a href="#tabs-1">HTML</a></li>
    <li><a href="#tabs-2">JSON</a></li>
  </ul>
  <div id="tabs-1">
      <p>html form here</p>
      <p>html form here</p>
      <p>html form here</p>
      <p>html form here</p>
      <p>html form here</p>
      <p>html form here</p>
      <p>html form here</p>
      <p>html form here</p>
      <p>html form here</p>
      <p>html form here</p>
      <p>html form here</p>
      <p>html form here</p>
      <p>html form here</p>
      <p>html form here</p>
      <p>html form here</p>
      <p>html form here</p>
      <p>html form here</p>
      <p>html form here</p>
      <p>html form here</p>
      <p>html form here</p>
      <p>html form here</p>
      <p>html form here</p>
      <p>html form here</p>
      <p>html form here</p>
      <p>html form here</p>
      <p>html form here</p>
      <p>html form here</p>
      <p>html form here</p>
      <p>html form here</p>
      <p>html form here</p>
      <p>html form here</p>
      <p>html form here</p>
      <p>html form here</p>
      <p>html form here</p>
      <p>html form here</p>
      <p>html form here</p>
      <p>html form here</p>
      <p>html form here</p>

  </div>
  <div id="tabs-2">
  </div>

</div>


{% endblock %}

